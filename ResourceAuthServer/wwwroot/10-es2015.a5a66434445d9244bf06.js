(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"s+ND":function(e,n,r){"use strict";r.r(n),r.d(n,"UserInfoModule",(function(){return H}));var t=r("ofXK"),i=r("IzEk"),o=r("1G5W"),c=r("nYR2"),l=r("ds6q"),a=r("DBRY"),s=r("fXoL"),b=r("iBCD"),u=r("s4/B"),m=r("JqCM"),d=r("3Pt+"),f=r("LYRX");let g=(()=>{class e{constructor(e){this.minValue=e,this.minValue=Number(this.minValue)}validate(e){return null!==e.value&&""!==e.value&&Number(e.value)<this.minValue?{min:!0}:null}}return e.\u0275fac=function(n){return new(n||e)(s.bc("min"))},e.\u0275dir=s.Lb({type:e,selectors:[["","min",""]],features:[s.Cb([{provide:d.h,useExisting:e,multi:!0}])]}),e})(),h=(()=>{class e{constructor(e){this.maxValue=e,this.maxValue=Number(this.maxValue)}validate(e){return Number(e.value)>this.maxValue?{max:!0}:null}}return e.\u0275fac=function(n){return new(n||e)(s.bc("max"))},e.\u0275dir=s.Lb({type:e,selectors:[["","max",""]],features:[s.Cb([{provide:d.h,useExisting:e,multi:!0}])]}),e})();var p=r("kmnG");const v=["ProfileForm"];function C(e,n){if(1&e&&(s.Wb(0,"mat-error"),s.Ec(1),s.Vb()),2&e){const e=n.$implicit;s.Db(1),s.Fc(e)}}function D(e,n){if(1&e&&(s.Ub(0),s.Cc(1,C,2,1,"mat-error",19),s.Tb()),2&e){s.ic();const e=s.tc(1);s.Db(1),s.nc("ngForOf",null==e?null:e.errors.server)}}function y(e,n){1&e&&(s.Wb(0,"mat-error"),s.Ec(1,"Last name field is required."),s.Vb())}function E(e,n){1&e&&(s.Wb(0,"mat-error"),s.Ec(1,"Last name length must be between 2 and 25 symbols."),s.Vb())}function M(e,n){1&e&&(s.Wb(0,"mat-error"),s.Ec(1," Last name cannot have white spaces."),s.Vb())}function x(e,n){if(1&e&&(s.Wb(0,"mat-error"),s.Ec(1),s.Vb()),2&e){const e=n.$implicit;s.Db(1),s.Fc(e)}}function V(e,n){if(1&e&&(s.Ub(0),s.Cc(1,x,2,1,"mat-error",19),s.Tb()),2&e){s.ic(2);const e=s.tc(5);s.Db(1),s.nc("ngForOf",null==e?null:e.errors.server)}}function U(e,n){if(1&e&&(s.Ub(0),s.Cc(1,y,2,0,"mat-error",2),s.Cc(2,E,2,0,"mat-error",2),s.Cc(3,M,2,0,"mat-error",2),s.Cc(4,V,2,1,"ng-container",2),s.Tb()),2&e){s.ic();const e=s.tc(5);s.Db(1),s.nc("ngIf",null==e?null:e.errors.required),s.Db(1),s.nc("ngIf",null==e?null:e.errors.minlength),s.Db(1),s.nc("ngIf",null==e?null:e.errors.validateEmpty),s.Db(1),s.nc("ngIf",null==e?null:e.errors.server)}}function W(e,n){1&e&&(s.Wb(0,"mat-error"),s.Ec(1,"First name field is required."),s.Vb())}function S(e,n){1&e&&(s.Wb(0,"mat-error"),s.Ec(1,"First name length must be between 2 and 20 symbols."),s.Vb())}function F(e,n){1&e&&(s.Wb(0,"mat-error"),s.Ec(1," First name cannot have white spaces."),s.Vb())}function O(e,n){if(1&e&&(s.Wb(0,"mat-error"),s.Ec(1),s.Vb()),2&e){const e=n.$implicit;s.Db(1),s.Fc(e)}}function I(e,n){if(1&e&&(s.Ub(0),s.Cc(1,O,2,1,"mat-error",19),s.Tb()),2&e){s.ic(2);const e=s.tc(9);s.Db(1),s.nc("ngForOf",null==e?null:e.errors.server)}}function w(e,n){if(1&e&&(s.Ub(0),s.Cc(1,W,2,0,"mat-error",2),s.Cc(2,S,2,0,"mat-error",2),s.Cc(3,F,2,0,"mat-error",2),s.Cc(4,I,2,1,"ng-container",2),s.Tb()),2&e){s.ic();const e=s.tc(9);s.Db(1),s.nc("ngIf",null==e?null:e.errors.required),s.Db(1),s.nc("ngIf",null==e?null:e.errors.minlength),s.Db(1),s.nc("ngIf",null==e?null:e.errors.validateEmpty),s.Db(1),s.nc("ngIf",null==e?null:e.errors.server)}}function N(e,n){1&e&&(s.Wb(0,"mat-error"),s.Ec(1,"You have to be at least 18 years old."),s.Vb())}function _(e,n){1&e&&(s.Wb(0,"mat-error"),s.Ec(1,"Age must be between 18 and 100."),s.Vb())}function q(e,n){if(1&e&&(s.Wb(0,"mat-error"),s.Ec(1),s.Vb()),2&e){const e=n.$implicit;s.Db(1),s.Fc(e)}}function P(e,n){if(1&e&&(s.Ub(0),s.Cc(1,q,2,1,"mat-error",19),s.Tb()),2&e){s.ic(2);const e=s.tc(16);s.Db(1),s.nc("ngForOf",null==e?null:e.errors.server)}}function R(e,n){if(1&e&&(s.Ub(0),s.Cc(1,N,2,0,"mat-error",2),s.Cc(2,_,2,0,"mat-error",2),s.Cc(3,P,2,1,"ng-container",2),s.Tb()),2&e){s.ic();const e=s.tc(16);s.Db(1),s.nc("ngIf",null==e?null:e.errors.min),s.Db(1),s.nc("ngIf",null==e?null:e.errors.max),s.Db(1),s.nc("ngIf",null==e?null:e.errors.server)}}function k(e,n){1&e&&(s.Wb(0,"mat-error"),s.Ec(1,"Specialization cannot have white spaces."),s.Vb())}function T(e,n){1&e&&(s.Wb(0,"mat-error"),s.Ec(1,"Specialization must be at least 3 characters long."),s.Vb())}function $(e,n){if(1&e&&(s.Wb(0,"mat-error"),s.Ec(1),s.Vb()),2&e){const e=n.$implicit;s.Db(1),s.Fc(e)}}function z(e,n){if(1&e&&(s.Ub(0),s.Cc(1,$,2,1,"mat-error",19),s.Tb()),2&e){s.ic(2);const e=s.tc(22);s.Db(1),s.nc("ngForOf",null==e?null:e.errors.server)}}function j(e,n){if(1&e&&(s.Ub(0),s.Cc(1,k,2,0,"mat-error",2),s.Cc(2,T,2,0,"mat-error",2),s.Cc(3,z,2,1,"ng-container",2),s.Tb()),2&e){s.ic();const e=s.tc(22);s.Db(1),s.nc("ngIf",null==e?null:e.errors.validateEmpty),s.Db(1),s.nc("ngIf",null==e?null:e.errors.minlength),s.Db(1),s.nc("ngIf",null==e?null:e.errors.server)}}function L(e,n){1&e&&(s.Wb(0,"mat-error"),s.Ec(1,"Experience have to be at least 1 year."),s.Vb())}function B(e,n){1&e&&(s.Wb(0,"mat-error"),s.Ec(1,"Experience can't be more than 45 years."),s.Vb())}function Q(e,n){if(1&e&&(s.Wb(0,"mat-error"),s.Ec(1),s.Vb()),2&e){const e=n.$implicit;s.Db(1),s.Fc(e)}}function Y(e,n){if(1&e&&(s.Ub(0),s.Cc(1,Q,2,1,"mat-error",19),s.Tb()),2&e){s.ic(2);const e=s.tc(26);s.Db(1),s.nc("ngForOf",null==e?null:e.errors.server)}}function J(e,n){if(1&e&&(s.Ub(0),s.Cc(1,L,2,0,"mat-error",2),s.Cc(2,B,2,0,"mat-error",2),s.Cc(3,Y,2,1,"ng-container",2),s.Tb()),2&e){s.ic();const e=s.tc(26);s.Db(1),s.nc("ngIf",null==e?null:e.errors.min),s.Db(1),s.nc("ngIf",null==e?null:e.errors.max),s.Db(1),s.nc("ngIf",null==e?null:e.errors.server)}}const X=function(e){return{invisible:e}};let A=(()=>{class e{constructor(e,n,r,t){this.infoSrc=e,this.errorSrc=n,this.datePipe=r,this.spinner=t,this.Roles=a.a,this.destroyed$=new l.Subject,this.User=Object.assign({},this.infoSrc.User),this.ModelsEqual=!0,this.SaveBtnDisabled=!1}OnChange(){this.ModelsEqual=this.ProfileForm.invalid||this.infoSrc.UserProps.every(e=>this.propsEqual(this.infoSrc.User[e],this.User[e]))}propsEqual(e,n){return null===e&&this.isNullOrEmpty(n)||e===n}isNullOrEmpty(e){return null===e||""===e}OnSaveChanges(){this.disabledForm(),this.infoSrc.EditProfile(this.User).pipe(Object(i.a)(1),Object(o.a)(this.destroyed$),Object(c.a)(()=>this.enableForm())).subscribe(()=>this.editSuccess(),e=>this.errorSrc.SetServerErrors(e,this.infoSrc.User,this.ProfileForm))}disabledForm(){this.spinner.show(),this.SaveBtnDisabled=!0}enableForm(){this.spinner.hide(),this.SaveBtnDisabled=!1}editSuccess(){this.ModelsEqual=!0,this.infoSrc.User=Object.assign({},this.User)}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}}return e.\u0275fac=function(n){return new(n||e)(s.Qb(b.a),s.Qb(u.a),s.Qb(t.e),s.Qb(m.c))},e.\u0275cmp=s.Kb({type:e,selectors:[["app-user-info"]],viewQuery:function(e,n){var r;1&e&&s.Ic(v,!0),2&e&&s.sc(r=s.fc())&&(n.ProfileForm=r.first)},decls:31,vars:23,consts:[["id","userProfile","novalidate","",3,"keyup","ngSubmit"],["ProfileForm","ngForm"],[4,"ngIf"],[1,"form_group"],["type","text","name","lastName","required","","validateEmpty","","minlength","2","maxlength","25","placeholder","Last name",1,"form_field",3,"ngModel","ngModelChange"],["lastName","ngModel"],["name","firstName","required","","validateEmpty","","minlength","2","maxlength","20","placeholder","First name",1,"form_field",3,"ngModel","ngModelChange"],["firstName","ngModel"],["disabled","disabled","name","userName","placeholder","Email",1,"form_field",3,"ngModel"],["userName","ngModel"],["name","age","type","number","min","18","max","100","placeholder","Age",1,"form_field",3,"ngModel","ngModelChange"],["age","ngModel"],[1,"form_group",3,"ngClass"],["disabled","disabled","name","registryDate","type","text",1,"form_field",3,"ngModel"],["name","specialization","validateEmpty","","minlength","3","maxlength","40","placeholder","Specialization",1,"form_field",3,"ngModel","ngModelChange"],["spc","ngModel"],["name","yearsOfExperience","type","number","min","1","max","45","placeholder","Experience",1,"form_field",3,"ngModel","ngModelChange"],["exp","ngModel"],["id","save_btn","type","submit",3,"disabled"],[4,"ngFor","ngForOf"]],template:function(e,n){if(1&e&&(s.Wb(0,"form",0,1),s.ec("keyup",(function(){return n.OnChange()}))("ngSubmit",(function(){return n.OnSaveChanges()})),s.Cc(2,D,2,1,"ng-container",2),s.Wb(3,"div",3),s.Wb(4,"input",4,5),s.ec("ngModelChange",(function(e){return n.User.lastName=e})),s.Vb(),s.Cc(6,U,5,4,"ng-container",2),s.Vb(),s.Wb(7,"div",3),s.Wb(8,"input",6,7),s.ec("ngModelChange",(function(e){return n.User.firstName=e})),s.Vb(),s.Cc(10,w,5,4,"ng-container",2),s.Vb(),s.Wb(11,"div",3),s.Rb(12,"input",8,9),s.Vb(),s.Wb(14,"div",3),s.Wb(15,"input",10,11),s.ec("ngModelChange",(function(e){return n.User.age=e})),s.Vb(),s.Cc(17,R,4,3,"ng-container",2),s.Vb(),s.Wb(18,"div",12),s.Rb(19,"input",13),s.Vb(),s.Wb(20,"div",12),s.Wb(21,"input",14,15),s.ec("ngModelChange",(function(e){return n.User.specialization=e})),s.Vb(),s.Cc(23,j,4,3,"ng-container",2),s.Vb(),s.Wb(24,"div",12),s.Wb(25,"input",16,17),s.ec("ngModelChange",(function(e){return n.User.yearsOfExperience=e})),s.Vb(),s.Cc(27,J,4,3,"ng-container",2),s.Vb(),s.Wb(28,"div",3),s.Wb(29,"button",18),s.Ec(30," Save changes "),s.Vb(),s.Vb(),s.Vb()),2&e){const e=s.tc(1),r=s.tc(5),t=s.tc(9),i=s.tc(16),o=s.tc(22),c=s.tc(26);s.Db(2),s.nc("ngIf",e.invalid&&(null==e||null==e.errors?null:e.errors.server)),s.Db(2),s.nc("ngModel",n.User.lastName),s.Db(2),s.nc("ngIf",r.invalid&&r.dirty),s.Db(2),s.nc("ngModel",n.User.firstName),s.Db(2),s.nc("ngIf",t.invalid&&t.dirty),s.Db(2),s.nc("ngModel",n.User.userName),s.Db(3),s.nc("ngModel",n.User.age),s.Db(2),s.nc("ngIf",i.invalid&&i.dirty),s.Db(1),s.nc("ngClass",s.qc(17,X,n.infoSrc.UserRole===n.Roles.doctor)),s.Db(1),s.nc("ngModel",n.datePipe.transform(n.User.registryDate,"dd-MM-yyyy")),s.Db(1),s.nc("ngClass",s.qc(19,X,n.infoSrc.UserRole===n.Roles.patient)),s.Db(1),s.nc("ngModel",n.User.specialization),s.Db(2),s.nc("ngIf",o.invalid&&o.dirty),s.Db(1),s.nc("ngClass",s.qc(21,X,n.infoSrc.UserRole===n.Roles.patient)),s.Db(1),s.nc("ngModel",n.User.yearsOfExperience),s.Db(2),s.nc("ngIf",c.invalid&&c.dirty),s.Db(2),s.nc("disabled",n.ModelsEqual||n.SaveBtnDisabled)}},directives:[d.q,d.l,d.m,t.l,d.b,d.p,f.a,d.g,d.f,d.k,d.n,d.o,g,h,t.j,t.k,p.b],styles:["#userProfile[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:270px;height:auto;max-height:345px;margin-left:2rem}.form_group[_ngcontent-%COMP%]{margin-bottom:.7rem}.form_field[_ngcontent-%COMP%]{width:-webkit-fill-available;max-width:220px;min-width:165px;height:22px;border-radius:8px;border-top:none;border-bottom:none;border-right:none;padding:.375rem .75rem;box-shadow:inset 20px -8px 25px 0 rgba(59,208,98,.38);background-color:hsla(0,0%,100%,0);color:#495057;outline:none;font-size:.95rem}#save_btn[_ngcontent-%COMP%]{padding:.55rem;font-size:.875rem;border-radius:10px;margin-bottom:.7rem;background-color:#28a745;color:#fff;border:none;cursor:pointer}#save_btn[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:default}"]}),e})();var G=r("d2mR"),K=r("tyNb");let H=(()=>{class e{}return e.\u0275mod=s.Ob({type:e}),e.\u0275inj=s.Nb({factory:function(n){return new(n||e)},providers:[t.e,u.a],imports:[[G.a,K.f.forChild([{path:"",component:A}])]]}),e})()}}]);